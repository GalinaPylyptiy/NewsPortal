<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin page</title>
</head>
<body>

<h2 th:if="${session.containsKey('user')}" >
    <a  th:href="@{/user}" th:text="${session.user}">user</a>
</h2>

<table border="1" width="900" align="center" cellspacing="5" cellpadding="10">
    <tr>
        <td>
            <h2 style="color: darkslateblue">User id</h2>
        </td>
        <td>
            <h2 style="color: darkslateblue">User login</h2>
        </td>
        <td>
            <h2 style="color: darkslateblue">User roles</h2>
        </td>
        <td>
            <h2 style="color: darkslateblue">Add new role to a user</h2>
        </td>
        <td>
            <h2 style="color: darkslateblue">Delete role of a user</h2>
        </td>
    </tr>

    <tr th:each="user:${allUsers}">
        <td>
           <h3 th:text="${user.id}"></h3>
        </td>
        <td>
            <h3 th:text="${user.login}"></h3>
        </td>
        <td>
            <div th:each="role:${user.userRoles}">
               <h3 th:text="${role.roleName}"> </h3>
            </div>
        </td>
        <td>
            <form th:method="POST" th:action="@{/role/add}">
                <input type="hidden" th:value="${user.id}" th:name="userId">
                <input type="checkbox" name="role"
                       th:value="${editor.roleName}" th:text="${editor.roleName}" >
                <input type="checkbox" name="role"
                       th:value="${admin.roleName}" th:text="${admin.roleName}" >
                <br/>
                <input type="submit" value="Add role">
            </form>
        </td>
        <td>
            <form th:method="POST" th:action="@{/role/delete}">
                <input type="hidden" th:value="${user.id}" th:name="userId">
                <input type="checkbox" name="role"
                       th:value="${editor.roleName}" th:text="${editor.roleName}" >
                <input type="checkbox" name="role"
                       th:value="${admin.roleName}" th:text="${admin.roleName}" >
                <br/>
                <input type="submit" value="Delete role">
            </form>
        </td>
    </tr>

</table>

</body>
</html>